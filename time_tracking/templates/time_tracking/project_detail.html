{% extends "time_tracking/base.html" %}

{% block content %}

<h1>Project Detail</h1>

<p>Name: {{object.name}}</p>
<p>Slug: {{object.slug}}</p>
<p>
    <a href="{{ object.get_edit_url }}">Edit</a>
    <a href="{{ object.get_delete_url }}">Delete</a>
    <a href="{{ object.get_add_category_url }}">Add Category</a>
    <a href="{{ object.get_copy_project_url }}">Copy Project</a>
</p>

<h1>Open Records</h1>

{% for record in open_records %}
    <p>Record: {{ record.start_time }}
        <a href="{{ record.get_delete_url }}">Delete</a>
        <a href="{{ record.get_close_url }}">Close</a>
        <a href="{{ record.get_edit_url }}">Edit</a>
    </p>
{% empty %}
    <p>Empty</p>

{% endfor %}

<h1>Closed Records</h1>

{% for record in closed_records %}
    <p>Record: {{ record.start_time }} -> {{ record.end_time }} {{ record.start_time|timesince:record.end_time}}
        {{ record.duration }}
        <a href="{{ record.get_delete_url }}">Delete</a>
        <a href="{{ record.get_edit_url }}">Edit</a>
    </p>
{% empty %}
    <p>Empty</p>

{% endfor %}

<h1>Categories</h1>
{% for category in object.category_set.all %}
    <p>Category: <a href="{{ category.get_absolute_url }}">{{ category }}</a></p>
{% empty %}
    <p>Empty</p>
{% endfor %}

{% if object.active %}
    <p><a href="{% url 'record_create_view' object.slug %}">Add New Records</a></p>
{% endif %}
<p><a href="{% url 'project_list_view' %}">Back to Project List</a></p>

{% endblock %}
